(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6565)}])},3842:function(e,t,n){"use strict";var r=n(5893),s=n(7294);let a=s.forwardRef((e,t)=>{let[a,l]=(0,s.useState)(!0),i=(0,s.useRef)();return((0,s.useEffect)(()=>{a&&Promise.all([Promise.all([n.e(885),n.e(66),n.e(72),n.e(183),n.e(950),n.e(969)]).then(n.bind(n,1969)),Promise.all([n.e(885),n.e(66),n.e(72),n.e(183),n.e(950),n.e(838)]).then(n.bind(n,2838)),Promise.all([n.e(885),n.e(183),n.e(661)]).then(n.bind(n,4661))]).then(e=>{let[t,{registerAllModules:n},{registerLanguageDictionary:r,zhCN:s}]=e;i.current=t.HotTable,l(!1),n(),r(s)})},[a,l]),a||!i.current)?(0,r.jsx)("div",{}):(0,r.jsx)(i.current,{...e,ref:t})});t.Z=a},2796:function(e,t,n){"use strict";var r=n(7294),s=n(2085);let a=(e,t,n)=>{let[a,l]=(0,r.useState)();if(!s.jU)return[t,s.ZT,s.ZT];if(!e)throw Error("useLocalStorage key may not be falsy");let i=n?n.raw?e=>e:n.deserializer:JSON.parse,c=(0,r.useRef)(e=>{try{let r=n?n.raw?String:n.serializer:JSON.stringify,s=localStorage.getItem(e);if(null!==s)return i(s);return t&&localStorage.setItem(e,r(t)),t}catch(a){return t}});(0,r.useLayoutEffect)(()=>l(c.current(e)),[e]);let o=(0,r.useCallback)(t=>{try{let r;let s="function"==typeof t?t(a):t;if(void 0===s)return;r=n?n.raw?"string"==typeof s?s:JSON.stringify(s):n.serializer?n.serializer(s):JSON.stringify(s):JSON.stringify(s),localStorage.setItem(e,r),l(i(r))}catch(c){}},[e,l]),d=(0,r.useCallback)(()=>{try{localStorage.removeItem(e),l(void 0)}catch(t){}},[e,l]);return[a,o,d]};t.Z=a},4263:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(9483),s=n.n(r),a=n(7294);let l=e=>null!==e&&"object"==typeof e;var i=n(9572);function c(){let[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)({});return(0,a.useEffect)(()=>{t(!0),s().getItem("vanilla_words").then(e=>{l(e)&&(r(e),t(!1)),(0,i.U2)("https://exdj158.github.io/mc-trans-page/vanilla_words.json").then(e=>{r(e),s().setItem("vanilla_words",e),t(!1)}).catch(()=>{t(!1)})})},[]),{vanillaWords:n,loading:e}}},6565:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});var r=n(5893),s=n(7294),a=n(1384),l=n(4263),i=n(1893),c=n.n(i),o=n(6726),d=n(5733),u=n.n(d),h=n(6201);function f(e){let{langList:t,langJsonRef:n,updateLangList:a,setUploading:l}=e,[i,d]=(0,s.useState)(""),[f,m]=(0,s.useState)(""),x=function(e,t,n){var r,s,a,i;e.preventDefault();let d=(null===(r=e.target)||void 0===r?void 0:null===(s=r.files)||void 0===s?void 0:s[0])||(null==e?void 0:null===(a=e.dataTransfer)||void 0===a?void 0:null===(i=a.files)||void 0===i?void 0:i[0]);if(!d)return;let f=d.name,m=f.endsWith(".json"),x=f.endsWith(".lang"),g=f.endsWith(".jar");if(!m&&!x&&!g){o.yw.error("请上传json文件或lang文件或jar文件!");return}if(l(!0),g){u().loadAsync(d).then(function(e){var r=e.folder("assets");let s=n?"zh_cn":"en_us",a=RegExp("".concat(s,".")),i=null==r?void 0:r.file(a)[0];if(i){let d=i.name,u=d.endsWith(".lang"),f="".concat(s).concat(u?".lang":".json");i.async("string").then(e=>{t("".concat(f),u?(0,h.H)(e):c().parse(e,{keepWsc:!0}))}),o.yw.success("文件".concat(f,"上传成功!"))}else o.yw.error("未找到文件".concat(s,".json / ").concat(s,".lang!"));l(!1)});return}let j=new FileReader;j.readAsText(d),j.onload=function(){let n=this.result;try{let r=x?(0,h.H)(n):c().parse(n,{keepWsc:!0});o.yw.success("文件".concat(f,"上传成功!")),l(!1),t(f,r),e.target.type="text",e.target.type="file"}catch(s){o.yw.error("解析失败，文件必须为翻译文本所对应的json格式!"),l(!1)}}},g=function(e){x(e,(e,t)=>{n.current=t;let r=[];for(let s in t){let l=t[s];n.current[s]=l,r.push([s,l,l])}d(e),a(r)})},j=function(e){x(e,(e,r)=>{let s={};t.forEach(e=>{s[e[0]]=e[1]});let l=[];for(let i in n.current)l.push([i,s[i],(null==r?void 0:r[i])||n.current[i]]),n.current[i]=(null==r?void 0:r[i])||n.current[i];m(e),a(l)},!0)};return(0,r.jsxs)("div",{className:"flex justify-between mb-8",children:[(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("label",{onChange:g,onDrop:g,onDragOver:g,className:"flex justify-center w-full h-48 px-4 transition bg-white border-2 border-gray-300 border-dashed rounded-md appearance-none cursor-pointer hover:border-gray-400 hover:bg-slate-100 focus:outline-none",children:[(0,r.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,r.jsxs)("span",{className:"font-medium text-gray-600",children:["上传",(0,r.jsx)("strong",{className:"text-red-500",children:"待翻译"}),"的json/lang/jar文件到此处"]})]}),(0,r.jsx)("input",{type:"file",name:"file_upload",accept:".json,.lang,.jar",className:"hidden"})]}),(0,r.jsx)("div",{className:"text-center",children:i})]}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("label",{onChange:j,onDrop:j,onDragOver:j,className:"flex justify-center w-full h-48 px-4 transition bg-white border-2 border-gray-300 border-dashed rounded-md appearance-none cursor-pointer hover:border-gray-400 hover:bg-slate-100 focus:outline-none",children:[(0,r.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,r.jsxs)("span",{className:"font-medium text-gray-600",children:["上传",(0,r.jsx)("strong",{className:"text-red-500",children:"覆盖相同键"}),"的json/lang/jar文件到此处"]})]}),(0,r.jsx)("input",{type:"file",name:"file_upload",accept:".json,.lang,.jar",className:"hidden"})]}),(0,r.jsx)("div",{className:"text-center",children:f})]})]})}var m=n(3818),x=n(8358),g=n(1100),j=n(6445),p=n(9483),v=n.n(p);let w=()=>v().getItem("langList"),b=e=>v().setItem("langList",e);var N=n(423),y=n(9572);let k="main",{get:S}=(0,y.hG)({baseURL:"https://api.github.com/"}),C=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k,s=await (0,N.u)();return S("repos/".concat(e,"/").concat(t,"/contents/").concat(n),{ref:r},{headers:{Authorization:s?"Bearer ".concat(s):void 0}})},_=async e=>{let{authorName:t,repoName:n,tree_sha:r,recursive:s,branch:a=k}=e,l=await (0,N.u)();return S("repos/".concat(t,"/").concat(n,"/git/trees/").concat(r),{ref:a,owner:t,tree_sha:r,recursive:s},{headers:{Authorization:l?"Bearer ".concat(l):void 0}})},L=async()=>{let e=await C("CFPAOrg","Minecraft-Mod-Language-Package","projects","main"),t=e.filter(e=>e.name.startsWith("1.")).map(e=>e.path),n=await Promise.all(t.map(e=>new Promise(t=>{C("CFPAOrg","Minecraft-Mod-Language-Package",e,"main").then(n=>{let{sha:r}=null==n?void 0:n.find(e=>{let{name:t}=e;return"assets"===t});_({authorName:"CFPAOrg",repoName:"Minecraft-Mod-Language-Package",tree_sha:r}).then(n=>{t(null==n?void 0:n.tree.map(t=>({...t,version:e.replace("projects/",""),id:e.replace("projects/","")+"-"+t.path})))})})}))),r=[];return n.forEach(e=>{r.push(...e)}),r.sort((e,t)=>e.path>t.path?1:-1)};var E=n(1664),z=n.n(E),Z=n(6662),M=n(4184),P=n.n(M),O=n(6180);let R=(e,t)=>(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r="";if(t<=5+2*n)for(let s=1;s<=t;s++)r=r+" "+s;else{let a=Math.max(1,e-n),l=Math.min(e+n,t);e-1<=n&&(l=1+2*n),t-e<=n&&(a=t-2*n);for(let i=a;i<=l;i++)r=r+" "+i;e-1>=2*n&&3!==e&&(r="... "+r),t-e>=2*n&&e!==t-2&&(r+=" ..."),1!==a&&(r="1 "+r),l!==t&&(r=r+" "+t)}return r.trim()})(e,t).split(" ").filter(e=>""!==e),I=e=>{let{page:t,active:n,hoverable:s=!0,onClick:a}=e;return(0,r.jsx)("li",{children:(0,r.jsx)("button",{onClick:a,className:(0,O.m)(P()("w-10 h-10 text-blue-500 transition-colors duration-150 rounded-full focus:shadow-outline",s&&"hover:bg-blue-100",n&&"text-white bg-blue-500 border-blue-600 hover:bg-blue-600")),children:t})})};function A(e){let{page:t,total:n,pageSize:s,setPage:a}=e,l=Math.trunc((n+s-1)/s);return(0,r.jsxs)("ul",{className:"inline-flex space-x-2",children:[(0,r.jsx)("li",{onClick(){Number(t)>1&&a(Number(t)-1)},children:(0,r.jsx)("button",{disabled:1===Number(t),className:(0,O.m)(P()("rounded-full p-0 w-10 h-10 flex items-center justify-center text-blue-500 bg-white",1!==Number(t)?"hover:bg-blue-100":"text-gray-300")),children:(0,r.jsx)("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd",fillRule:"evenodd"})})})}),0===n?(0,r.jsx)(I,{page:1,hoverable:!1}):R(t,l).map((e,n)=>(0,r.jsx)(I,{page:e,onClick(){isNaN(e)||e===String(t)||a(Number(e))},hoverable:"..."!==e,active:e===String(t)},n)),(0,r.jsx)("li",{onClick(){Number(t)<l&&a(Number(t)+1)},children:(0,r.jsx)("button",{className:P()("rounded-full p-0 w-10 h-10 flex items-center justify-center text-blue-500 bg-white",Number(t)!==l&&l>1?"hover:bg-blue-100":"text-gray-300"),disabled:l<=1||Number(t)===l,children:(0,r.jsx)("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd",fillRule:"evenodd"})})})})]})}let W=e=>{let{record:t}=e,[n,l]=(0,s.useState)([]),[i,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!1),{sha:h,path:f}=t,m=()=>{if("1UNKNOWN"===f){c(!0);return}u(!0),_({authorName:"CFPAOrg",repoName:"Minecraft-Mod-Language-Package",tree_sha:h,recursive:!0}).then(e=>{u(!1),c(!0),l(e.tree)}).catch(()=>{c(!0),u(!1)})};return i?(0,r.jsxs)("div",{className:"break-words whitespace-pre-wrap",children:[n.map((e,t)=>{let{path:s,url:a}=e,l=s.split("/"),i=l[l.length-1];return i.endsWith(".lang")||i.endsWith(".json")?(0,r.jsxs)("span",{children:[(0,r.jsx)(o.u,{content:"下载",placement:"bottom",className:"z-[10000] py-2",children:(0,r.jsx)("a",{className:"text-blue-500 cursor-pointer hover:text-blue-400",onClick(){(0,y.U2)(a).then(e=>{!function(e,t){let n=document.createElement("a");document.body.appendChild(n),n.href="data:application/pdf;base64,".concat(e),n.target="_self",n.download=t,n.click()}(e.content,i)})},children:i})}),t!==n.length-1&&"、"]},s):null}),0===n.length&&"-"]}):(0,r.jsx)(a.Z,{spinning:d,children:(0,r.jsx)(o.zx,{size:"sm",color:"white",onClick:m,children:"查看"})})},B=[{title:"版本",width:150,dataIndex:"version"},{title:"mod",width:300,dataIndex:"path",key:"path"},{title:"链接",dataIndex:"path",align:"center",render(e,t){let{version:n}=t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(z(),{className:"hover:text-blue-500 mr-2",href:"https://search.mcmod.cn/s?key=".concat(e),target:"_blank",children:["MC百科",(0,r.jsx)(Z.Z,{className:"w-4 h-4 inline"})]}),(0,r.jsxs)(z(),{className:"hover:text-blue-500",href:"https://github.com/CFPAOrg/Minecraft-Mod-Language-Package/tree/main/projects/".concat(n,"/assets/").concat(e),target:"_blank",children:["GitHub",(0,r.jsx)(Z.Z,{className:"w-4 h-4 inline"})]})]})}},{title:"包含文件",dataIndex:"url",align:"center",render:(e,t)=>(0,r.jsx)(W,{record:t},e)}];function D(e){let{data:t,loading:n}=e,[l,i]=(0,s.useState)(""),[c,d]=(0,s.useState)(1),[u,h]=(()=>{let e=l.trim(),n=[];return e?(t.forEach(t=>{(t.path.includes(e)||t.version.includes(e))&&n.push(t)}),n.length>0)?[n.slice((c-1)*10,10*c),n.length]:[[],0]:[t.slice((c-1)*10,10*c),t.length]})();return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("div",{className:"flex mb-4 items-center justify-between",children:[(0,r.jsx)("div",{className:"w-50",children:(0,r.jsxs)("span",{children:["共",h,"条记录"]})}),(0,r.jsx)("div",{className:"w-64",children:(0,r.jsx)(o.II,{variant:"outlined",label:"筛选关键字",onChange(e){i(e.target.value),d(1)}})})]}),(0,r.jsx)(a.Z,{spinning:n,children:(0,r.jsx)(o.iA,{tableLayout:"fixed",rowKey:"id",columns:B,data:u})}),(0,r.jsx)("div",{className:"justify-center flex mt-4 mb-4",children:(0,r.jsx)(A,{pageSize:10,page:c,total:h,setPage:d})})]})}function T(e){let{langJsonRef:t,langList:n,updateLangList:a,hotTableComponentRef:l}=e,[i,c]=(0,s.useState)(!1),{data:d,loading:u}=function(e){let[t,n]=(0,s.useState)(!1),[r,a]=(0,s.useState)(!1),[l,i]=(0,s.useState)([]);return(0,s.useEffect)(()=>{!r&&e&&(n(!0),L().then(e=>{i(e),n(!1),a(!0)}).catch(e=>{var t;let r=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.status;403===r?o.yw.error("api请求失败，已达到每小时的请求频率上限"):o.yw.error("api请求失败"),n(!1),a(!0)}))},[r,e]),{loading:t,data:l}}(i),f=()=>{c(!1)},p=()=>{let e=JSON.stringify(t.current,void 0,4);(0,h.y)(e,"zh_cn.json","text/json").then(()=>{o.yw.success("下载成功!")}).catch(e=>o.yw.error(e))},v=()=>{let e=[];for(let n in t.current)e.push("".concat(n,"=").concat(t.current[n]));(0,h.y)(e.join("\r\n"),"zh_cn.lang","text/lang").then(()=>{o.yw.success("下载成功!")}).catch(e=>o.yw.error(e))},w=()=>{var e;let r=document.querySelectorAll(".hot-table table td:last-child"),s=null==l?void 0:null===(e=l.current)||void 0===e?void 0:e.__hotInstance,i=(null==s?void 0:s.getData())||[];r.forEach((e,n)=>{let r=e.innerText;i[n][2]=r,t.current[i[n][0]]=r});let c=n.map(e=>[e[0],e[1],t.current[e[0]]]);a(c),b(c),o.yw.success("替换成功!")};return(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)(o.zx,{id:"downloadBtn",className:"flex items-center",size:"lg",onClick(){c(!0)},children:[(0,r.jsx)(m.Z,{className:"w-5 mr-1"}),"查找i18n汉化"]}),(0,r.jsxs)(o.zx,{id:"downloadBtn",className:"ml-auto flex items-center",size:"lg",color:"cyan",disabled:0===n.length,onClick:p,children:[(0,r.jsx)(x.Z,{className:"w-5 mr-1"}),"下载"]}),(0,r.jsxs)(o.zx,{id:"downloadBtn",className:"ml-2 flex items-center",size:"lg",color:"cyan",disabled:0===n.length,onClick:v,children:[(0,r.jsx)(x.Z,{className:"w-5 mr-1"}),"下载Lang"]}),(0,r.jsxs)(o.zx,{size:"lg",id:"replaceBtn",className:"ml-2 flex items-center",color:"indigo",disabled:0===n.length,onClick:w,children:[(0,r.jsx)(g.Z,{className:"w-5 mr-1"})," 替换网页翻译"]}),(0,r.jsxs)(o.Vq,{maskCloseable:!1,className:"w-4/5 overflow-hidden",open:i,handler:f,children:[(0,r.jsxs)(o.fK,{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"查找i18n汉化"}),(0,r.jsx)(j.Z,{onClick:f,className:"w-8 h-8 hover:text-slate-500 cursor-pointer"})]}),(0,r.jsx)(o.a7,{className:"overflow-y-auto max-h-[420px]",divider:!0,children:(0,r.jsx)(D,{data:d,loading:u})})]})]})}var J=n(5611);n(2563);var U=n(3842);function H(e){let{langList:t,langJsonRef:n,hotTableComponentRef:s}=e;return(0,r.jsx)("div",{className:"mt-8 w-full mb-4 min-h-[200px]",children:(0,r.jsx)(U.Z,{fragmentSelection:!0,className:"hot-table",language:J.Z.languageCode,ref:s,data:t,rowHeaders:!0,colHeaders:["键(点击排序)","值","编辑(点击排序)"],height:"auto",licenseKey:"non-commercial-and-evaluation",width:"100%",columns:[{readOnly:!0,width:"30%"},{readOnly:!0,width:"30%",columnSorting:{headerAction:!1}},{width:"30%"}],columnSorting:!0,renderAllRows:!1,contextMenu:{items:{copy:{},deepl:{name:"deepl翻译",callback:function(e,t,n){let r=this.getSelected()||[],s=[];for(let a=0;a<r.length;a+=1){let l=r[a];s.push(this.getData(...l))}let i=s[0][0][0];window.open("https://www.deepl.com/zh/translator#en/zh/".concat(i))},disabled:function(){let e=this.getSelected()||[];if(e.length>1)return!0}},baidu:{name:"百度翻译",callback:function(e,t,n){let r=this.getSelected()||[],s=[];for(let a=0;a<r.length;a+=1){let l=r[a];s.push(this.getData(...l))}let i=s[0][0][0];window.open("https://fanyi.baidu.com/#en/zh/".concat(i))},disabled:function(){let e=this.getSelected()||[];if(e.length>1)return!0}}}},hiddenColumns:{indicators:!0},wordWrap:!0,allowEmpty:!0,stretchH:"all",cells:function(e,t){let n={};return n.className="",(0===this.instance.colToProp(t)||1===this.instance.colToProp(t))&&(n.className+="notranslate"),n},afterChange:function(e,r){if("loadData"!==r&&e&&(null==e?void 0:e.length)>0){let s=(null===this||void 0===this?void 0:this.getData())||[];null==e||e.forEach(e=>{let[t,r,a,l]=e,i=s[t],c=i[0];n.current[c]=l});let a=t.map(e=>[e[0],e[1],n.current[e[0]]]);b(a).then(()=>{o.yw.success("自动保存成功!")})}},afterColumnSort:function(e,t){var r;n.current={},null===(r=this.getData())||void 0===r||r.forEach(e=>{let[t,r,s]=e;n.current[t]=s})}})})}var F=n(8957),K=n(5871),X=n(2796);function $(){let[e,t]=(0,X.Z)("open-tip",!1),[n,s]=(0,X.Z)("open-warn",!1);return(0,r.jsxs)("div",{children:[(0,r.jsxs)(o.UQ,{open:Boolean(e),icon:e?(0,r.jsx)(F.Z,{}):(0,r.jsx)(K.Z,{}),children:[(0,r.jsx)(o._m,{onClick(){t(!e)},children:"如何使用？"}),(0,r.jsx)(o.X1,{children:(0,r.jsxs)("ul",{className:"list-disc list-inside",children:[(0,r.jsx)("li",{children:"如何寻找翻译文件：支持直接上传mods.jar并解析en_us文件，或者解压mod.jar，找到assets/*/lang/en_us.json，将en_us.json文件上传到本页面。"}),(0,r.jsxs)("li",{children:["如何实现一键汉化：先使用网页翻译整个页面(edge、谷歌浏览器自带,或者使用网页翻译插件)，接着点击",(0,r.jsx)("strong",{className:"text-red-500",children:"替换网页翻译"}),"按钮保存机翻结果"]}),(0,r.jsxs)("li",{children:["如何导出文件：点击",(0,r.jsx)("strong",{className:"text-red-500",children:"下载"}),"按钮导出文件，放进jar包en_us.json相同位置即可"]}),(0,r.jsxs)("li",{children:["如果已经有了汉化文件，但是汉化不完全？先上传en_us.json文件到",(0,r.jsx)("strong",{className:"text-red-500",children:"待翻译"}),"处，然后上传旧的zh_cn.json文件到",(0,r.jsx)("strong",{className:"text-red-500",children:"覆盖相同键"}),"处 即可覆盖相同键值对应的汉化"]}),(0,r.jsx)("br",{})]})})]}),(0,r.jsxs)(o.UQ,{open:Boolean(n),icon:n?(0,r.jsx)(F.Z,{}):(0,r.jsx)(K.Z,{}),children:[(0,r.jsx)(o._m,{onClick(){s(!n)},children:"注意事项!"}),(0,r.jsx)(o.X1,{children:(0,r.jsxs)("ul",{className:"list-disc list-inside",children:[(0,r.jsx)("li",{children:'内容过多时，需要上下滚动加载翻译，等翻译完成后再点击"替换网页翻译"按钮。'}),(0,r.jsx)("li",{children:"机翻可能会丢失换行、占位通配符等，请自行校对修改。（换行快捷键：alt+回车）"}),(0,r.jsx)("li",{children:'手动编辑或点击"替换网页翻译"按钮，会自动保存当前结果至浏览器本地缓存。'}),(0,r.jsx)("li",{children:"本工具会对json/lang文件做格式化处理，空行、注释都不会保留。"})]})})]})]})}var q=n(9334);let G=(0,s.createContext)({vanillaWords:{}}),Q=G.Provider;function V(){let[e,t]=(0,s.useState)(!1),[n,i]=(0,s.useState)([]),c=(0,s.useRef)({}),o=(0,s.useRef)(null),{vanillaWords:d}=(0,l.Z)();return(0,s.useEffect)(()=>{document.addEventListener("dragover",function(e){e.preventDefault()}),document.addEventListener("drop",function(e){e.preventDefault()})},[]),(0,s.useInsertionEffect)(()=>{t(!0),w().then(e=>{if(e&&Array.isArray(e))try{i(e),null==e||e.forEach(e=>{c.current[e[0]]=e[2]})}catch(n){i([])}t(!1)}).catch(()=>{t(!1)})},[]),(0,r.jsxs)(Q,{value:{vanillaWords:d},children:[(0,r.jsx)(q.Z,{title:"翻译工具"}),(0,r.jsx)("div",{className:"overflow-x-hidden mt-8",children:(0,r.jsxs)("div",{className:"py-4 px-2",children:[(0,r.jsx)(f,{langList:n,langJsonRef:c,updateLangList:i,setUploading:t}),(0,r.jsx)(T,{langList:n,langJsonRef:c,updateLangList:i,hotTableComponentRef:o}),(0,r.jsx)(a.Z,{spinning:e,children:(0,r.jsx)(H,{langList:n,langJsonRef:c,hotTableComponentRef:o})}),(0,r.jsx)($,{})]})})]})}},6201:function(e,t,n){"use strict";async function r(e,t,n){if(!e)throw Error("保存失败，数据为空！");if(!t)throw Error("保存失败，未传文件名！");"object"==typeof e&&(e=JSON.stringify(e,void 0,4));let r=new Blob([e],{type:n}),s=document.createElement("a");s.download=t,s.href=window.URL.createObjectURL(r),s.dataset.downloadurl=[n,s.download,s.href].join(":");let a=new MouseEvent("click",{});return s.dispatchEvent(a),"保存成功"}n.d(t,{H:function(){return a},y:function(){return r}});let s={section:/^\s*\[\s*([^\]]*)\s*\]\s*$/,param:/^\s*([\w\.\-\_]+)\s*=\s*(.*?)\s*$/,comment:/^\s*;.*$/};function a(e){let t={},n=e.split(/\r\n|\r|\n/);return n.forEach(function(e){if(s.param.test(e)){let n=e.match(s.param);t[n[1]]=n[2]}}),t}},423:function(e,t,n){"use strict";n.d(t,{e:function(){return l},u:function(){return a}});var r=n(9483),s=n.n(r);let a=()=>s().getItem("token"),l=e=>s().setItem("token",e)}},function(e){e.O(0,[874,887,817,424,772,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);