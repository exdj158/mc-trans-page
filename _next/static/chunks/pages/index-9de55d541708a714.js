(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7405)}])},3842:function(e,t,n){"use strict";var l=n(5893),a=n(7294);let r=a.forwardRef((e,t)=>{let[r,s]=(0,a.useState)(!0),i=(0,a.useRef)();return((0,a.useEffect)(()=>{r&&Promise.all([Promise.all([n.e(885),n.e(66),n.e(72),n.e(183),n.e(950),n.e(613)]).then(n.bind(n,7613)),Promise.all([n.e(885),n.e(66),n.e(72),n.e(183),n.e(950),n.e(947)]).then(n.bind(n,6947)),Promise.all([n.e(885),n.e(183),n.e(661)]).then(n.bind(n,4661))]).then(e=>{let[t,{registerAllModules:n},{registerLanguageDictionary:l,zhCN:a}]=e;i.current=t.HotTable,s(!1),n(),l(a)})},[r,s]),r||!i.current)?(0,l.jsx)("div",{}):(0,l.jsx)(i.current,{...e,ref:t})});t.Z=r},2796:function(e,t,n){"use strict";var l=n(7294),a=n(2085);let r=(e,t,n)=>{let[r,s]=(0,l.useState)();if(!a.jU)return[t,a.ZT,a.ZT];if(!e)throw Error("useLocalStorage key may not be falsy");let i=n?n.raw?e=>e:n.deserializer:JSON.parse,c=(0,l.useRef)(e=>{try{let l=n?n.raw?String:n.serializer:JSON.stringify,a=localStorage.getItem(e);if(null!==a)return i(a);return t&&localStorage.setItem(e,l(t)),t}catch(r){return t}});(0,l.useLayoutEffect)(()=>s(c.current(e)),[e]);let o=(0,l.useCallback)(t=>{try{let l;let a="function"==typeof t?t(r):t;if(void 0===a)return;l=n?n.raw?"string"==typeof a?a:JSON.stringify(a):n.serializer?n.serializer(a):JSON.stringify(a):JSON.stringify(a),localStorage.setItem(e,l),s(i(l))}catch(c){}},[e,s]),d=(0,l.useCallback)(()=>{try{localStorage.removeItem(e),s(void 0)}catch(t){}},[e,s]);return[r,o,d]};t.Z=r},4263:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var l=n(9483),a=n.n(l),r=n(7294);let s=e=>null!==e&&"object"==typeof e;var i=n(8344);function c(){let[e,t]=(0,r.useState)(!1),[n,l]=(0,r.useState)({});return(0,r.useEffect)(()=>{t(!0),a().getItem("vanilla_words").then(e=>{s(e)&&(l(e),t(!1)),(0,i.U2)("https://exdj158.github.io/mc-trans-page/vanilla_words.json").then(e=>{l(e.data),a().setItem("vanilla_words",e.data),t(!1)}).catch(()=>{t(!1)})})},[]),{vanillaWords:n,loading:e}}},7405:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var l=n(5893),a=n(7294),r=n(1384),s=n(4263),i=n(1893),c=n.n(i),o=n(6726),d=n(6201),u=n(7228);let h=(0,a.createContext)({vanillaWords:{}}),f=h.Provider;function m(e){let{langList:t,langJsonRef:n,updateLangList:r,setUploading:s}=e,[i,f]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),{vanillaWords:x}=(0,a.useContext)(h),p=function(e,t){var n,l,a,r;e.preventDefault();let i=(null===(n=e.target)||void 0===n?void 0:null===(l=n.files)||void 0===l?void 0:l[0])||(null==e?void 0:null===(a=e.dataTransfer)||void 0===a?void 0:null===(r=a.files)||void 0===r?void 0:r[0]);if(!i)return;let u=i.name,h=u.endsWith(".lang");if(!u.endsWith(".json")&&!h){o.yw.error("请上传json文件或lang文件!");return}s(!0);let f=new FileReader;f.readAsText(i),f.onload=function(){let n=this.result;try{let l=h?(0,d.H)(n):c().parse(n,{keepWsc:!0});o.yw.success("文件".concat(u,"上传成功!")),s(!1),t(u,l),e.target.type="text",e.target.type="file"}catch(a){o.yw.error("解析失败，文件必须为翻译文本所对应的json格式!"),s(!1)}}},v=function(e){p(e,(e,t)=>{n.current=t;let l=[],a=Object.keys(x);for(let s in t){let i=t[s],c=i,o=localStorage.getItem("replaceWords");if(o){let d=a.filter(e=>!!c.match(RegExp(e,"i")));d.length>0&&d.sort((e,t)=>e.length>t.length||e>t?-1:e<t?1:0).forEach(e=>{c=(0,u.O)(c,e,'<span translate="no">'.concat(x[e],"</span>"),!0)})}n.current[s]=c,l.push([s,i,c])}f(e),r(l)})},j=function(e){p(e,(e,l)=>{let a={};t.forEach(e=>{a[e[0]]=e[1]});let s=[];for(let i in n.current)s.push([i,a[i],(null==l?void 0:l[i])||n.current[i]]),n.current[i]=(null==l?void 0:l[i])||n.current[i];g(e),r(s)})};return(0,l.jsxs)("div",{className:"flex justify-between mb-8",children:[(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsxs)("label",{onChange:v,onDrop:v,onDragOver:v,className:"flex justify-center w-full h-48 px-4 transition bg-white border-2 border-gray-300 border-dashed rounded-md appearance-none cursor-pointer hover:border-gray-400 hover:bg-slate-100 focus:outline-none",children:[(0,l.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,l.jsxs)("span",{className:"font-medium text-gray-600",children:["上传",(0,l.jsx)("strong",{className:"text-red-500",children:"待翻译"}),"的json/lang文件到此处"]})]}),(0,l.jsx)("input",{type:"file",name:"file_upload",accept:".json,.lang",className:"hidden"})]}),(0,l.jsx)("div",{className:"text-center",children:i})]}),(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsxs)("label",{onChange:j,onDrop:j,onDragOver:j,className:"flex justify-center w-full h-48 px-4 transition bg-white border-2 border-gray-300 border-dashed rounded-md appearance-none cursor-pointer hover:border-gray-400 hover:bg-slate-100 focus:outline-none",children:[(0,l.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,l.jsxs)("span",{className:"font-medium text-gray-600",children:["上传",(0,l.jsx)("strong",{className:"text-red-500",children:"覆盖相同键"}),"的json/lang文件到此处"]})]}),(0,l.jsx)("input",{type:"file",name:"file_upload",accept:".json,.lang",className:"hidden"})]}),(0,l.jsx)("div",{className:"text-center",children:m})]})]})}let g=a.forwardRef(function({title:e,titleId:t,...n},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5H5.625zM7.5 15a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 017.5 15zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H8.25z",clipRule:"evenodd"}),a.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"}))}),x=a.forwardRef(function({title:e,titleId:t,...n},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5H9a3.75 3.75 0 013.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 013.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 01-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875zm5.845 17.03a.75.75 0 001.06 0l3-3a.75.75 0 10-1.06-1.06l-1.72 1.72V12a.75.75 0 00-1.5 0v4.19l-1.72-1.72a.75.75 0 00-1.06 1.06l3 3z",clipRule:"evenodd"}),a.createElement("path",{d:"M14.25 5.25a5.23 5.23 0 00-1.279-3.434 9.768 9.768 0 016.963 6.963A5.23 5.23 0 0016.5 7.5h-1.875a.375.375 0 01-.375-.375V5.25z"}))}),p=a.forwardRef(function({title:e,titleId:t,...n},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0118 9.375v9.375a3 3 0 003-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 00-.673-.05A3 3 0 0015 1.5h-1.5a3 3 0 00-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6zM13.5 3A1.5 1.5 0 0012 4.5h4.5A1.5 1.5 0 0015 3h-1.5z",clipRule:"evenodd"}),a.createElement("path",{fillRule:"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 013 20.625V9.375zM6 12a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H6.75a.75.75 0 01-.75-.75V12zm2.25 0a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75zM6 15a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H6.75a.75.75 0 01-.75-.75V15zm2.25 0a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75zM6 18a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H6.75a.75.75 0 01-.75-.75V18zm2.25 0a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75z",clipRule:"evenodd"}))}),v=a.forwardRef(function({title:e,titleId:t,...n},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z",clipRule:"evenodd"}))});var j=n(9483),w=n.n(j);let b=()=>w().getItem("langList"),N=e=>w().setItem("langList",e);var y=n(2796),E=n(423),k=n(8344);let z="main",{get:C}=(0,k.hG)({baseURL:"https://api.github.com/",original:!0}),S=async function(e,t,n){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z,a=await (0,E.u)();return C("repos/".concat(e,"/").concat(t,"/contents/").concat(n),{ref:l},{headers:{Authorization:a?"Bearer ".concat(a):void 0}})},R=async e=>{let{authorName:t,repoName:n,tree_sha:l,recursive:a,branch:r=z}=e,s=await (0,E.u)();return C("repos/".concat(t,"/").concat(n,"/git/trees/").concat(l),{ref:r,owner:t,tree_sha:l,recursive:a},{headers:{Authorization:s?"Bearer ".concat(s):void 0}})},L=async()=>{let e=await S("CFPAOrg","Minecraft-Mod-Language-Package","projects","main"),t=e.data.filter(e=>e.name.startsWith("1.")).map(e=>e.path),n=await Promise.all(t.map(e=>new Promise(t=>{S("CFPAOrg","Minecraft-Mod-Language-Package",e,"main").then(n=>{let{sha:l}=n.data.find(e=>{let{name:t}=e;return"assets"===t});R({authorName:"CFPAOrg",repoName:"Minecraft-Mod-Language-Package",tree_sha:l}).then(n=>{t(n.data.tree.map(t=>({...t,version:e.replace("projects/",""),id:e.replace("projects/","")+"-"+t.path})))})})}))),l=[];return n.forEach(e=>{l.push(...e)}),l.sort((e,t)=>e.path>t.path?1:-1)};var M=n(1664),_=n.n(M),O=n(4184),A=n.n(O),H=n(6180);let P=(e,t)=>(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,l="";if(t<=5+2*n)for(let a=1;a<=t;a++)l=l+" "+a;else{let r=Math.max(1,e-n),s=Math.min(e+n,t);e-1<=n&&(s=1+2*n),t-e<=n&&(r=t-2*n);for(let i=r;i<=s;i++)l=l+" "+i;e-1>=2*n&&3!==e&&(l="... "+l),t-e>=2*n&&e!==t-2&&(l+=" ..."),1!==r&&(l="1 "+l),s!==t&&(l=l+" "+t)}return l.trim()})(e,t).split(" ").filter(e=>""!==e),B=e=>{let{page:t,active:n,hoverable:a=!0,onClick:r}=e;return(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:r,className:(0,H.m)(A()("w-10 h-10 text-blue-500 transition-colors duration-150 rounded-full focus:shadow-outline",a&&"hover:bg-blue-100",n&&"text-white bg-blue-500 border-blue-600 hover:bg-blue-600")),children:t})})};function I(e){let{page:t,total:n,pageSize:a,setPage:r}=e,s=Math.trunc((n+a-1)/a);return(0,l.jsxs)("ul",{className:"inline-flex space-x-2",children:[(0,l.jsx)("li",{onClick(){Number(t)>1&&r(Number(t)-1)},children:(0,l.jsx)("button",{disabled:1===Number(t),className:(0,H.m)(A()("rounded-full p-0 w-10 h-10 flex items-center justify-center text-blue-500 bg-white",1!==Number(t)?"hover:bg-blue-100":"text-gray-300")),children:(0,l.jsx)("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd",fillRule:"evenodd"})})})}),0===n?(0,l.jsx)(B,{page:1,hoverable:!1}):P(t,s).map((e,n)=>(0,l.jsx)(B,{page:e,onClick(){isNaN(e)||e===String(t)||r(Number(e))},hoverable:"..."!==e,active:e===String(t)},n)),(0,l.jsx)("li",{onClick(){Number(t)<s&&r(Number(t)+1)},children:(0,l.jsx)("button",{className:A()("rounded-full p-0 w-10 h-10 flex items-center justify-center text-blue-500 bg-white",Number(t)!==s&&s>1?"hover:bg-blue-100":"text-gray-300"),disabled:s<=1||Number(t)===s,children:(0,l.jsx)("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd",fillRule:"evenodd"})})})})]})}let Z=e=>{let{record:t}=e,[n,s]=(0,a.useState)([]),[i,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),{sha:h,path:f}=t,m=()=>{if("1UNKNOWN"===f){c(!0);return}u(!0),R({authorName:"CFPAOrg",repoName:"Minecraft-Mod-Language-Package",tree_sha:h,recursive:!0}).then(e=>{u(!1),c(!0),s(e.data.tree)}).catch(()=>{c(!0),u(!1)})};return i?(0,l.jsxs)("div",{className:"break-words whitespace-pre-wrap",children:[n.map((e,t)=>{let{path:a,url:r}=e,s=a.split("/"),i=s[s.length-1];return i.endsWith(".lang")||i.endsWith(".json")?(0,l.jsxs)("span",{children:[(0,l.jsx)(o.u,{content:"下载",placement:"bottom",className:"z-[10000] py-2",children:(0,l.jsx)("a",{className:"text-blue-500 cursor-pointer hover:text-blue-400",onClick(){(0,k.ef)(r).then(e=>{!function(e,t){let n=document.createElement("a");document.body.appendChild(n),n.href="data:application/pdf;base64,".concat(e),n.target="_self",n.download=t,n.click()}(e.origin.content,i)})},children:i})}),t!==n.length-1&&"、"]},a):null}),0===n.length&&"-"]}):(0,l.jsx)(r.Z,{spinning:d,children:(0,l.jsx)(o.zx,{size:"sm",onClick:m,children:"查看"})})},W=[{title:"版本",width:150,dataIndex:"version"},{title:"mod",width:300,dataIndex:"path",key:"path",render:e=>(0,l.jsx)(_(),{className:"hover:text-blue-500",href:"https://search.mcmod.cn/s?key=".concat(e),target:"_blank",children:e})},{title:"文件",dataIndex:"url",align:"center",render:(e,t)=>(0,l.jsx)(Z,{record:t},e)}];function D(e){let{data:t,loading:n}=e,[s,i]=(0,a.useState)(""),[c,d]=(0,a.useState)(1),[u,h]=(()=>{let e=s.trim(),n=[];return e?(t.forEach(t=>{(t.path.includes(e)||t.version.includes(e))&&n.push(t)}),n.length>0)?[n.slice((c-1)*10,10*c),n.length]:[[],0]:[t.slice((c-1)*10,10*c),t.length]})();return(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsxs)("div",{className:"flex mb-4 items-center justify-between",children:[(0,l.jsx)("div",{className:"w-50",children:(0,l.jsxs)("span",{children:["共",h,"条记录"]})}),(0,l.jsx)("div",{className:"w-64",children:(0,l.jsx)(o.II,{variant:"outlined",label:"筛选关键字",onChange(e){i(e.target.value),d(1)}})})]}),(0,l.jsx)(r.Z,{spinning:n,children:(0,l.jsx)(o.iA,{tableLayout:"fixed",rowKey:"id",columns:W,data:u})}),(0,l.jsx)("div",{className:"justify-center flex mt-4",children:(0,l.jsx)(I,{pageSize:10,page:c,total:h,setPage:d})})]})}function T(e){let{langJsonRef:t,langList:n,updateLangList:r,hotTableComponentRef:s}=e,[i,c]=(0,a.useState)(!1),{data:u,loading:h}=function(e){let[t,n]=(0,a.useState)(!1),[l,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)([]);return(0,a.useEffect)(()=>{!l&&e&&(n(!0),L().then(e=>{i(e),n(!1),r(!0)}).catch(e=>{var t;let l=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.status;403===l?o.yw.error("api请求失败，已达到每小时的请求频率上限"):o.yw.error("api请求失败"),n(!1),r(!0)}))},[l,e]),{loading:t,data:s}}(i),[f]=(0,y.Z)("replaceWords",!1),m=()=>{c(!1)},j=()=>{let e=JSON.stringify(t.current,void 0,4);(0,d.y)(e,"zh_cn.json","text/json").then(()=>{o.yw.success("下载成功!")}).catch(e=>o.yw.error(e))},w=()=>{let e=[];for(let n in t.current)e.push("".concat(n,"=").concat(t.current[n]));(0,d.y)(e.join("\r\n"),"zh_cn.lang","text/lang").then(()=>{o.yw.success("下载成功!")}).catch(e=>o.yw.error(e))},b=()=>{var e;let l=document.querySelectorAll(".hot-table table td:last-child"),a=null==s?void 0:null===(e=s.current)||void 0===e?void 0:e.__hotInstance,i=(null==a?void 0:a.getData())||[];l.forEach((e,n)=>{let l=e.innerText;f&&(l=l.replace(/\s/g,"")),i[n][2]=l,t.current[i[n][0]]=l});let c=n.map(e=>[e[0],e[1],t.current[e[0]]]);r(c),N(c),o.yw.success("替换成功!")};return(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)(o.zx,{id:"downloadBtn",className:"flex items-center",size:"lg",onClick(){c(!0)},children:[(0,l.jsx)(g,{className:"w-5 mr-1"}),"查找i18n汉化"]}),(0,l.jsxs)(o.zx,{id:"downloadBtn",className:"ml-auto flex items-center",size:"lg",color:"cyan",disabled:0===n.length,onClick:j,children:[(0,l.jsx)(x,{className:"w-5 mr-1"}),"下载"]}),(0,l.jsxs)(o.zx,{id:"downloadBtn",className:"ml-2 flex items-center",size:"lg",color:"cyan",disabled:0===n.length,onClick:w,children:[(0,l.jsx)(x,{className:"w-5 mr-1"}),"下载Lang"]}),(0,l.jsxs)(o.zx,{size:"lg",id:"replaceBtn",className:"ml-2 flex items-center",color:"indigo",disabled:0===n.length,onClick:b,children:[(0,l.jsx)(p,{className:"w-5 mr-1"})," 替换网页翻译"]}),(0,l.jsxs)(o.Vq,{maskCloseable:!1,className:"w-4/5 h-4/5 overflow-y-auto",open:i,handler:m,children:[(0,l.jsxs)(o.fK,{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"查找i18n汉化"}),(0,l.jsx)(v,{onClick:m,className:"w-8 h-8 hover:text-slate-500 cursor-pointer"})]}),(0,l.jsx)(o.a7,{className:"overflow-y-auto min-h-[320px]",divider:!0,children:(0,l.jsx)(D,{data:u,loading:h})})]})]})}var V=n(5611);n(2563);var J=n(3842);let U=function(e,t,n,l,a,r){return t.innerHTML=r,t};function F(e){let{langList:t,langJsonRef:n,hotTableComponentRef:a}=e,[r]=(0,y.Z)("replaceWords",!1);return(0,l.jsx)("div",{className:"mt-8 w-full mb-4 min-h-[200px]",children:(0,l.jsx)(J.Z,{fragmentSelection:!0,className:"hot-table",language:V.Z.languageCode,ref:a,data:t,rowHeaders:!0,colHeaders:["键(点击排序)","值","编辑(点击排序)"],height:"auto",licenseKey:"non-commercial-and-evaluation",width:"100%",columns:[{readOnly:!0,width:"30%"},{readOnly:!0,width:"30%",columnSorting:{headerAction:!1}},{width:"30%",renderer:r?U:void 0}],columnSorting:!0,renderAllRows:!1,contextMenu:{items:{copy:{},deepl:{name:"deepl翻译",callback:function(e,t,n){let l=this.getSelected()||[],a=[];for(let r=0;r<l.length;r+=1){let s=l[r];a.push(this.getData(...s))}let i=a[0][0][0];window.open("https://www.deepl.com/zh/translator#en/zh/".concat(i))},disabled:function(){let e=this.getSelected()||[];if(e.length>1)return!0}},baidu:{name:"百度翻译",callback:function(e,t,n){let l=this.getSelected()||[],a=[];for(let r=0;r<l.length;r+=1){let s=l[r];a.push(this.getData(...s))}let i=a[0][0][0];window.open("https://fanyi.baidu.com/#en/zh/".concat(i))},disabled:function(){let e=this.getSelected()||[];if(e.length>1)return!0}}}},hiddenColumns:{indicators:!0},wordWrap:!0,allowEmpty:!0,stretchH:"all",cells:function(e,t){let n={};return n.className="",(0===this.instance.colToProp(t)||1===this.instance.colToProp(t))&&(n.className+="notranslate"),n},afterChange:function(e,l){if("loadData"!==l&&e&&(null==e?void 0:e.length)>0){let a=(null===this||void 0===this?void 0:this.getData())||[];null==e||e.forEach(e=>{let[t,l,r,s]=e,i=a[t],c=i[0];n.current[c]=s});let r=t.map(e=>[e[0],e[1],n.current[e[0]]]);N(r).then(()=>{o.yw.success("自动保存成功!")})}},afterColumnSort:function(e,t){var l;n.current={},null===(l=this.getData())||void 0===l||l.forEach(e=>{let[t,l,a]=e;n.current[t]=a})}})})}let K=a.forwardRef(function({title:e,titleId:t,...n},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 011.06 0l7.5 7.5a.75.75 0 11-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 01-1.06-1.06l7.5-7.5z",clipRule:"evenodd"}))}),X=a.forwardRef(function({title:e,titleId:t,...n},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 011.06-1.06L12 14.69l6.97-6.97a.75.75 0 111.06 1.06l-7.5 7.5z",clipRule:"evenodd"}))});function $(){let[e,t]=(0,y.Z)("open-tip",!1),[n,a]=(0,y.Z)("open-warn",!1);return(0,l.jsxs)("div",{children:[(0,l.jsxs)(o.UQ,{open:Boolean(e),icon:e?(0,l.jsx)(K,{}):(0,l.jsx)(X,{}),children:[(0,l.jsx)(o._m,{onClick(){t(!e)},children:"如何使用？"}),(0,l.jsx)(o.X1,{children:(0,l.jsxs)("ul",{className:"list-disc list-inside",children:[(0,l.jsx)("li",{children:"如何寻找翻译文件：解压mod.jar，找到assets/*/lang/en_us.json，将en_us.json文件上传到本页面。"}),(0,l.jsxs)("li",{children:["如何实现一键汉化：先使用网页翻译整个页面(edge、谷歌浏览器自带,或者使用网页翻译插件)，接着点击",(0,l.jsx)("strong",{className:"text-red-500",children:"替换网页翻译"}),"按钮保存机翻结果"]}),(0,l.jsxs)("li",{children:["如何导出文件：点击",(0,l.jsx)("strong",{className:"text-red-500",children:"下载"}),"按钮导出文件，放进jar包en_us.json相同位置即可"]}),(0,l.jsxs)("li",{children:["如果已经有了汉化文件，但是汉化不完全？先上传en_us.json文件到",(0,l.jsx)("strong",{className:"text-red-500",children:"待翻译"}),"处，然后上传旧的zh_cn.json文件到",(0,l.jsx)("strong",{className:"text-red-500",children:"覆盖相同键"}),"处 即可覆盖相同键值对应的汉化"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{className:"text-red-500",children:"机翻辅助模式"}),"(个人中心页面开启)： 在此模式下，每次上传文件，编辑列的文本都会先经过匹配，替换为标准词库表内的中文，",(0,l.jsx)("strong",{className:"text-red-500",children:"注意！"}),"此时如果点击",(0,l.jsx)("strong",{className:"text-red-500",children:"替换网页翻译"}),"按钮，会将文本内所有的空格去除掉"]}),(0,l.jsx)("br",{})]})})]}),(0,l.jsxs)(o.UQ,{open:Boolean(n),icon:n?(0,l.jsx)(K,{}):(0,l.jsx)(X,{}),children:[(0,l.jsx)(o._m,{onClick(){a(!n)},children:"注意事项!"}),(0,l.jsx)(o.X1,{children:(0,l.jsxs)("ul",{className:"list-disc list-inside",children:[(0,l.jsx)("li",{children:'内容过多时，需要上下滚动加载翻译，等翻译完成后再点击"替换网页翻译"按钮。'}),(0,l.jsx)("li",{children:"机翻可能会丢失换行、占位通配符等，请自行校对修改。（换行快捷键：alt+回车）"}),(0,l.jsx)("li",{children:'手动编辑或点击"替换网页翻译"按钮，会自动保存当前结果至浏览器本地缓存。'})]})})]})]})}var q=n(9334);function Q(){let[e,t]=(0,a.useState)(!1),[n,i]=(0,a.useState)([]),c=(0,a.useRef)({}),o=(0,a.useRef)(null),{vanillaWords:d}=(0,s.Z)();return(0,a.useEffect)(()=>{document.addEventListener("dragover",function(e){e.preventDefault()}),document.addEventListener("drop",function(e){e.preventDefault()})},[]),(0,a.useInsertionEffect)(()=>{t(!0),b().then(e=>{if(e&&Array.isArray(e))try{i(e),null==e||e.forEach(e=>{c.current[e[0]]=e[2]})}catch(n){i([])}t(!1)}).catch(()=>{t(!1)})},[]),(0,l.jsxs)(f,{value:{vanillaWords:d},children:[(0,l.jsx)(q.Z,{title:"翻译工具"}),(0,l.jsx)("div",{className:"overflow-x-hidden mt-8",children:(0,l.jsxs)("div",{className:"py-4 px-2",children:[(0,l.jsx)(m,{langList:n,langJsonRef:c,updateLangList:i,setUploading:t}),(0,l.jsx)(T,{langList:n,langJsonRef:c,updateLangList:i,hotTableComponentRef:o}),(0,l.jsx)(r.Z,{spinning:e,children:(0,l.jsx)(F,{langList:n,langJsonRef:c,hotTableComponentRef:o})}),(0,l.jsx)($,{})]})})]})}},6201:function(e,t,n){"use strict";async function l(e,t,n){if(!e)throw Error("保存失败，数据为空！");if(!t)throw Error("保存失败，未传文件名！");"object"==typeof e&&(e=JSON.stringify(e,void 0,4));let l=new Blob([e],{type:n}),a=document.createElement("a");a.download=t,a.href=window.URL.createObjectURL(l),a.dataset.downloadurl=[n,a.download,a.href].join(":");let r=new MouseEvent("click",{});return a.dispatchEvent(r),"保存成功"}n.d(t,{H:function(){return r},y:function(){return l}});let a={section:/^\s*\[\s*([^\]]*)\s*\]\s*$/,param:/^\s*([\w\.\-\_]+)\s*=\s*(.*?)\s*$/,comment:/^\s*;.*$/};function r(e){let t={},n=e.split(/\r\n|\r|\n/);return n.forEach(function(e){if(a.param.test(e)){let n=e.match(a.param);t[n[1]]=n[2]}}),t}},423:function(e,t,n){"use strict";n.d(t,{e:function(){return s},u:function(){return r}});var l=n(9483),a=n.n(l);let r=()=>a().getItem("token"),s=e=>a().setItem("token",e)},7228:function(e,t,n){"use strict";n.d(t,{O:function(){return l}});let l=(e,t,n,l)=>e.replace(l?RegExp("\\s?\\b".concat(t,"\\b\\s?"),"gi"):RegExp("\\b".concat(t,"\\b"),"gi"),n)}},function(e){e.O(0,[874,161,817,587,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);